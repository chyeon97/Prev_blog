---
layout: single
title: "Hook(1)"
categories: React
tag: [React, í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸, í›…, ì»¤ìŠ¤í…€ í›…]
toc: true
toc_sticky: true
---

### ğŸŒï¸â€â™‚ï¸ ì´ ê¸€ì—ì„œ ì•Œ ìˆ˜ ìˆëŠ” ë‚´ìš©

- í›…ì´ë€?
- í›…ì„ ì´ìš©í•  ë•Œì˜ ê·œì¹™
- useState, useEffect, Custom Hook

### í›…ì´ë€?

> í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜  
> ìƒíƒœê°’ì„ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ í•˜ê³  ìì‹ ìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤

### â›”ï¸ í›…ì„ ì´ìš©í•  ë•Œì˜ ê·œì¹™

1. í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ Hookì„ í˜¸ì¶œí•˜ëŠ” ìˆœì„œëŠ” í•­ìƒ ê°™ì•„ì•¼ í•œë‹¤.
   > ì¦‰, ë°˜ë³µ/ì¡°ê±´ë¬¸ìœ¼ë¡œ Hookì„ í˜¸ì¶œ âŒ
2. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸, ì»¤ìŠ¤í…€ í›…ì„ ì œì™¸í•œ ê³³ì—ì„œ Hook í˜¸ì¶œ âŒ

### âœ… useState

> state(ìƒíƒœê°’)ì„ ì¶”ê°€ ë° ê´€ë¦¬í•¨

#### êµ¬ì¡°

```javascript
import React, { useState } from "react";

const [state, setState] = useState("");
// ì²«ë²ˆì§¸ ë³€ìˆ˜: ìƒíƒœ ê°’
// ë‘ë²ˆì§¸ ë³€ìˆ˜: ìƒíƒœ ê°’ ë³€ê²½ í•¨ìˆ˜
```

#### íŠ¹ì§•

1. ìƒíƒœê°’ ë³€ê²½í•¨ìˆ˜(ì´í•˜, useState)ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ë° ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ re-render ëœë‹¤.

2. useStateëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ë™ëœë‹¤.

   <details>
     <summary>
     <STRONG>
     ì™œ?
     </STRONG>
     </summary>
     <br/>

     <div markdown="1">
        > ReactëŠ” 16msë§ˆë‹¤ batch updateë¥¼ ì‹¤í–‰í•œë‹¤.      
        > ì¦‰, 16msë™ì•ˆ ë³€ê²½ëœ ìƒíƒœê°’ì„ ëª¨ì•„ ë‹¨ í•œë²ˆ re-renderë¥¼ ì‹¤í–‰í•˜ì—¬ ì›¹ í˜ì´ì§€ ë Œë”ë§ íšŸìˆ˜â¬‡ï¸, ì†ë„â¬†ï¸
       
     </div>

   </details>

3. useStateì˜ ë§¤ê°œë³€ìˆ˜ëŠ” ìì‹ ì´ í˜¸ì¶œë˜ê¸° ì§ì „ì˜ ìƒíƒœê°’ì´ë‹¤.

```javascript
setState((prev) => prev + 1);
// í˜¸ì¶œ ì§ì „ì˜ ìƒíƒœê°’ì—ì„œ 1 ì¦ê°€í•œë‹¤
```

4. í˜¸ì¶œ ìˆœì„œê°€ ë³´ì¥ëœë‹¤.
5. useStateëŠ” ì´ì „ ìƒíƒœê°’ì„ ë®ì–´ì“´ë‹¤.

### âœ… useEffect

> ë¶€ìˆ˜íš¨ê³¼ë¥¼ ì²˜ë¦¬í•˜ëŠ” í›…
>
> > <i style="color:red">\*</i> ë¶€ìˆ˜íš¨ê³¼? í•¨ìˆ˜ ì‹¤í–‰ ì‹œ í•¨ìˆ˜ ì™¸ë¶€ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ì—°ì‚°  
> > ex) API í˜¸ì¶œ, ì´ë²¤íŠ¸ í•¨ìˆ˜ ë“±ë¡/í•´ì œ ë“±

#### êµ¬ì¡°

```javascript
import React, { useEffect } from "react";

useEffect(() => {
  // ë¶€ìˆ˜íš¨ê³¼ ì²˜ë¦¬ ì‘ì—…
  return () => {
    // ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸° ì „ì— ìˆ˜í–‰
  };
}, []);
```

#### íŠ¹ì§•

1. ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë˜ë©´ useEffectì˜ ë¶€ìˆ˜í•¨ìˆ˜ ì²˜ë¦¬ ì‘ì—…ì´ ì‹¤í–‰ëœë‹¤.
2. ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ìˆëŠ” ê²½ìš°, ìµœì´ˆ ë Œë”ë§ ë ë•Œì—ë§Œ ì‹¤í–‰ëœë‹¤.

### âœ… Custom Hook

> í›…ì„ ì§ì ‘ ì»¤ìŠ¤í…€í™”í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

#### íŠ¹ì§•

1. ì´ë¦„ì€ useë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì´ ê·œì¹™
2. í›…ì˜ ì¬ì‚¬ìš©í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•¨

#### ì˜ˆì œ(: ì°½ì˜ ë„ˆë¹„ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…)

```javascript
// CustomHook.js

import { useState, useEffect } from "react";

export default function useWindowWidth() {
  const [width, setWidth] = useState(window.innerWidth);

  useEffect(() => {
    const onResize = () => {
      setWidth(window.innerWidth);
    };
    window.addEventListener("resize", onResize);
    return () => {
      window.removeEventListener("resize", onResize);
    };
  }, []);
  return width;
}
```

```javascript
// Other .js
const width = useWidthWindow();
console.log(width); // ì°½ì˜ í¬ê¸°ë¥¼ ì¡°ì ˆí•  ë•Œë§ˆë‹¤ í˜„ì¬ ì°½ì˜ ë„ˆë¹„ë¥¼ ì¶œë ¥í•¨
```
